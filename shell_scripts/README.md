# PRM_4_113603

Below is an illustration of the MLOps workflow in terms of a Generate+ETL (GETL) framework used in Phys. Rev. Materials 4, 113603 (DOI: https://doi.org/10.1103/PhysRevMaterials.4.113603):

![MLOPs workflow used in PRM_4_113603](../img/PRM_4_113603_MLOps.drawio.png)

Next, a description of the shell scripts that make up the implemented MLOps workflow used in that work. They were used at different stages of the research (tests, development, and application) and are operational at a high technical level manual execution of the Python/Shell-based GETL pipelines depicted in the figure above:

- **zca-bd-full-SD-cpu.sh**: this script creates a LAMMPS input file for a Classical Molecular Dynamics like the [example for the 100-atom cell of Zr₄₉Cu₄₉Al₂](../data_examples/G/big-data-full/Zr49Cu49Al2/c/md/lammps/100/21/Zr49Cu49Al2.lmp.inp). It is a job script for the queue **cpu** of the supercomputer SDumont and is used in the **Generate** step of the MLOps workflow depicted in the figure above.

- **zca-bd-full-SD.sh**: this script performs the same task as **zca-bd-full-SD-cpu.sh**, but in the queue **cpu_long** of the supercomputer SDumont.

- **zca-bd-full.sh**: this script performs the same task as **zca-bd-full-SD-cpu.sh**, but in the supercomputer CENAPAD-SP.

- **zca-QE-SD_cpu.sh**: this script is a job for the queue **cpu** of the supercomputer SDumont. It is used in the **Generate** and **Train/Tune** (for data augmentation) steps of the MLOps workflow depicted in the figure above and runs the PWscf (Plane-Wave Self-Consistent Field) package (a core component of the Quantum ESPRESSO distribution) for the electronic structure calculation of a 100-atom cell in a pre-generated input file, like the [example for Zr₄₉Cu₄₉Al₂](../data_examples/G/big-data-full/Zr49Cu49Al2/c/md/lammps/100/21/2000/0/Zr49Cu49Al2.scf.in). The referred input file was previously generated by the script [setup_ICOHP_jobs.py](../python_scripts/ML/big-data-full/scripts/setup_ICOHP_jobs.py) with the atomic positions from the last step in the [output](../data_examples/G/big-data-full/Zr49Cu49Al2/c/md/lammps/100/21/zca-th300.dump) of the CMD simulation with LAMMPS described above.
  
- **zca-QE-SD_cpu_long.sh**: this script performs the same task as **zca-QE-SD_cpu.sh**, but in the queue **cpu_long** of the supercomputer SDumont.
  
- **zca-QE-SD_cpu_small.sh**: this script performs the same task as **zca-QE-SD_cpu.sh**, but in the queue **cpu_small** of the supercomputer SDumont.
  
- **zca-LOB-SD_cpu.sh**: this script is a job for the queue **cpu** of the supercomputer SDumont. It is used in the **Generate** and **Train/Tune** (for data augmentation) steps of the MLOps workflow depicted in the figure above and runs the LOBSTER program which digests electronic structure output from the PWscf calculation mentioned above, using a LOBSTER input file like the [example for the 100-atom cell of Zr₄₉Cu₄₉Al₂](../data_examples/G/big-data-full/Zr49Cu49Al2/c/md/lammps/100/21/2000/0/lobsterin), which was also previously generated by the script [setup_ICOHP_jobs.py](../python_scripts/ML/big-data-full/scripts/setup_ICOHP_jobs.py).
  
- **zca-LOB-SD_cpu_long.sh**: this script performs the same task as **zca-LOB-SD_cpu.sh**, but in the queue **cpu_long** of the supercomputer SDumont for a set of structures.
